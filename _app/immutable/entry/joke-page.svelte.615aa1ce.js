import{S as E,i as q,s as P,J as R,k as _,l as d,m as k,h as r,n as h,b as u,K as U,D as g,q as v,r as b,p as W,C as w,a as I,c as S,L as C,u as D,y as z,z as A,A as B,g as G,d as J,B as K}from"../chunks/index.082288c5.js";/* empty css                     */function M(s){let e,a=s[8].message+"",t;return{c(){e=_("p"),t=v(a),this.h()},l(n){e=d(n,"P",{style:!0});var o=k(e);t=b(o,a),o.forEach(r),this.h()},h(){W(e,"color","red")},m(n,o){u(n,e,o),w(e,t)},p:g,d(n){n&&r(e)}}}function V(s){let e,a,t,n,o,m,c,f;return{c(){e=_("h1"),a=v(s[3]),t=I(),n=_("img"),m=I(),c=_("p"),f=v(s[0]),this.h()},l(l){e=d(l,"H1",{});var i=k(e);a=b(i,s[3]),i.forEach(r),t=S(l),n=d(l,"IMG",{src:!0,alt:!0}),m=S(l),c=d(l,"P",{});var y=k(c);f=b(y,s[0]),y.forEach(r),this.h()},h(){C(n.src,o=s[1])||h(n,"src",o),h(n,"alt",s[2])},m(l,i){u(l,e,i),w(e,a),u(l,t,i),u(l,n,i),u(l,m,i),u(l,c,i),w(c,f)},p(l,i){i&8&&D(a,l[3]),i&2&&!C(n.src,o=l[1])&&h(n,"src",o),i&4&&h(n,"alt",l[2]),i&1&&D(f,l[0])},d(l){l&&r(e),l&&r(t),l&&r(n),l&&r(m),l&&r(c)}}}function $(s){let e,a;return{c(){e=_("h1"),a=v("Waiting comic to load...")},l(t){e=d(t,"H1",{});var n=k(e);a=b(n,"Waiting comic to load..."),n.forEach(r)},m(t,n){u(t,e,n),w(e,a)},p:g,d(t){t&&r(e)}}}function F(s){let e,a={ctx:s,current:null,token:null,hasCatch:!0,pending:$,then:V,catch:M,value:7,error:8};return R(s[4],a),{c(){e=_("div"),a.block.c(),this.h()},l(t){e=d(t,"DIV",{class:!0,id:!0});var n=k(e);a.block.l(n),n.forEach(r),this.h()},h(){h(e,"class","info"),h(e,"id","comic")},m(t,n){u(t,e,n),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=null},p(t,[n]){s=t,U(a,s,n)},i:g,o:g,d(t){t&&r(e),a.block.d(),a.token=null,a=null}}}async function N(s){const e=new URLSearchParams;s&&e.append("email",s);let a="https://fwd.innopolis.app/api/hw2?"+e.toString();return await fetch(a).then(n=>n.json())}function O(s,e,a){let{email:t="d.korneenko@innopolis.university"}=e,n,o,m,c;async function f(i){let L="https://getxkcd.vercel.app/api/comic?num="+await N(i),p=await fetch(L).then(H=>H.json());console.log(p);let j=new Date(parseInt(p.year),parseInt(p.month)-1,parseInt(p.day));a(0,n=j.toLocaleDateString("ru-RU")),a(1,o=p.img),a(2,m=p.alt),a(3,c=p.title)}let l=f(t);return s.$$set=i=>{"email"in i&&a(5,t=i.email)},[n,o,m,c,l,t]}class Q extends E{constructor(e){super(),q(this,e,O,F,P,{email:5})}}function T(s){let e,a;return e=new Q({props:{email:"a.kopeikina@innopolis.university"}}),{c(){z(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){B(e,t,n),a=!0},p:g,i(t){a||(G(e.$$.fragment,t),a=!0)},o(t){J(e.$$.fragment,t),a=!1},d(t){K(e,t)}}}class Z extends E{constructor(e){super(),q(this,e,null,T,P,{})}}export{Z as default};
